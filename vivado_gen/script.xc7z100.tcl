set INC_FLAGS "-I../../include"

open_project hipacc_project
set_top hipaccRun
add_files hipacc_run.cc -cflags "-std=c++0x $INC_FLAGS"
add_files -tb main.cc -cflags "-std=c++0x $INC_FLAGS"
open_solution "solution1"
#set_part {xc7z020clg484-1}
set_part {xc7z100ffg900-1}
create_clock -period 6.66 -name default
#source "./directives.tcl"
csim_design -ldflags {-lrt} -clean
config_bind -effort high
config_schedule -effort high
#config_compile -unsafe_math_optimizations
csynth_design
#cosim_design -ldflags {-lrt} -trace_level none
#export_design -format ip_catalog -description "An IP generated by Vivado HLS" -vendor "xilinx.com" -library "hls" -version "1.0"
export_design -format ip_catalog -evaluate verilog
exit
